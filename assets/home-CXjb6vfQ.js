import{r as g,j as e}from"./index-Cwm1u3J0.js";const j="_content_1lndg_1",h="_energyWrapper_1lndg_5",x={content:j,energyWrapper:h},B="_bear_1azhz_1",R={bear:B},v="_floatingNumber_xa9lz_1",T="_float_xa9lz_1",S={floatingNumber:v,float:T},$=({x:t,y:o,number:r,onAnimationEnd:n})=>{g.useEffect(()=>{const a=setTimeout(n,1e3);return()=>clearTimeout(a)},[n]);const c={left:`${t}px`,top:`${o}px`};return e.jsxs("div",{className:S.floatingNumber,style:c,children:["+",r]})},N=4,z=({setScore:t,energy:o,setEnergy:r})=>{const[n,c]=g.useState([]),a=s=>{if(o-N>0){t(i=>i+1),r(i=>i-N);const{clientX:l,clientY:m}=s,d=s.currentTarget.getBoundingClientRect(),p=l-d.left+10,E=m-d.top-20,b=new Date().getTime();c(i=>[...i,{id:b,x:p,y:E,value:1}])}},u=s=>{c(_=>_.filter(l=>l.id!==s))};return e.jsxs("button",{type:"button",className:R.bear,onClick:a,children:[e.jsx("img",{src:"./bear.png",alt:"click me"}),n.map(({id:s,x:_,y:l,value:m})=>e.jsx($,{x:_,y:l,number:m,onAnimationEnd:()=>u(s)},s))]})},L="_score_1azmm_1",A={score:L},W=({score:t})=>e.jsx("div",{className:A.score,children:t}),w="_energy_daxt2_1",I="_energyBar_daxt2_5",Y="_energyBarLine_daxt2_11",y={energy:w,energyBar:I,energyBarLine:Y},k=({energy:t})=>e.jsxs("div",{className:y.energy,children:[t,e.jsx("div",{className:y.energyBar,children:e.jsx("div",{className:y.energyBarLine,style:{width:`${t/10}%`}})})]}),f=1e3,C=4,F=800;function O(){const[t,o]=g.useState(0),[r,n]=g.useState(1e3);return g.useEffect(()=>{const c=setInterval(()=>{n(a=>{const u=a+C;return u>f?f:u})},F);return()=>clearInterval(c)},[]),e.jsxs("div",{className:x.content,children:[e.jsx(W,{score:t}),e.jsx(z,{setScore:o,energy:r,setEnergy:n}),e.jsx("div",{className:x.energyWrapper,children:e.jsx(k,{energy:r})})]})}export{O as default};
