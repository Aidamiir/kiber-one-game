import{r as g,j as e}from"./index-CsFUTiYF.js";const b="_content_rpfjo_1",h="_energyWrapper_rpfjo_8",d={content:b,energyWrapper:h},B="_bear_hinio_1",R={bear:B},v="_floatingNumber_xa9lz_1",T="_float_xa9lz_1",S={floatingNumber:v,float:T},$=({x:t,y:o,number:r,onAnimationEnd:n})=>{g.useEffect(()=>{const a=setTimeout(n,1e3);return()=>clearTimeout(a)},[n]);const c={left:`${t}px`,top:`${o}px`};return e.jsxs("div",{className:S.floatingNumber,style:c,children:["+",r]})},p=4,L=({setScore:t,energy:o,setEnergy:r})=>{const[n,c]=g.useState([]),a=s=>{if(o-p>0){t(i=>i+1),r(i=>i-p);const{clientX:l,clientY:m}=s,x=s.currentTarget.getBoundingClientRect(),N=l-x.left+10,j=m-x.top-20,E=new Date().getTime();c(i=>[...i,{id:E,x:N,y:j,value:1}])}},u=s=>{c(_=>_.filter(l=>l.id!==s))};return e.jsxs("button",{type:"button",className:R.bear,onClick:a,children:[e.jsx("img",{src:"./bear.png",alt:"click me"}),n.map(({id:s,x:_,y:l,value:m})=>e.jsx($,{x:_,y:l,number:m,onAnimationEnd:()=>u(s)},s))]})},A="_score_1azmm_1",W={score:A},w=({score:t})=>e.jsx("div",{className:W.score,children:t}),z="_energy_13r6l_1",I="_energyBar_13r6l_11",Y="_energyBarLine_13r6l_18",y={energy:z,energyBar:I,energyBarLine:Y},k=({energy:t})=>e.jsxs("div",{className:y.energy,children:[e.jsx("p",{children:t}),e.jsx("div",{className:y.energyBar,children:e.jsx("div",{className:y.energyBarLine,style:{width:`${t/10}%`}})})]}),f=1e3,C=4,F=800;function O(){const[t,o]=g.useState(0),[r,n]=g.useState(1e3);return g.useEffect(()=>{const c=setInterval(()=>{n(a=>{const u=a+C;return u>f?f:u})},F);return()=>clearInterval(c)},[]),e.jsxs("div",{className:d.content,children:[e.jsx(w,{score:t}),e.jsx(L,{setScore:o,energy:r,setEnergy:n}),e.jsx("div",{className:d.energyWrapper,children:e.jsx(k,{energy:r})})]})}export{O as default};
